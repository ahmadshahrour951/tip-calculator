<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tip Calculator</title>
  </head>
  <body>
    <div>
      <div>
        <label for="bill">Bill</label>
        <input type="number" id="input-bill" name="input-bill" min="0" />
        <label for="tip">Tip %</label>
        <input type="number" id="input-tip" name="input-tip" min="0" />
        <label for="input-people">Number of people</label>
        <input type="number" id="input-people" name="input-people" min="1" />
      </div>
      <div>
        <h2 id="display-tip">Tip</h2>
        <h1 id="display-total">Total</h1>
      </div>
    </div>
    <script>
      const billInput = document.querySelector('#input-bill');
      const tipInput = document.querySelector('#input-tip');
      const peopleInput = document.querySelector('#input-people');
      const displayTip = document.querySelector('#display-tip');
      const displayTotal = document.querySelector('#display-total');

      let billFinal = parseFloat(billInput.value) || 0;
      let tipFinal = parseFloat(tipInput.value) || 0;
      let peopleFinal = parseInt(peopleInput.value) || 1;
      let tipFinalInt = (billFinal * tipFinal) / 100 || 0;
      let totalFinal = billFinal + tipFinalInt || 0;

      function handleBill(e) {
        if (e.target && e.target.value) {
          const bill = parseFloat(e.target.value);
          billFinal = bill;
          updateFinalValues();
          console.log(tipFinalInt, totalFinal);
        }
      }

      function handleTip(e) {
        if (e.target && e.target.value) {
          const tip = parseFloat(e.target.value);
          tipFinal = tip;
          updateFinalValues();
        }
      }

      function handlePeople(e) {
        if (e.target && e.target.value) {
          const people = parseInt(e.target.value);
          peopleFinal = people;
          updateFinalValues();
        }
      }

      function updateFinalValues() {
        tipFinalInt = (billFinal * tipFinal) / 100 / peopleFinal;
        totalFinal = billFinal / peopleFinal + tipFinalInt;
      }

      billInput.addEventListener('change', handleBill);
      tipInput.addEventListener('change', handleTip);
      peopleInput.addEventListener('change', handlePeople);
    </script>
  </body>
</html>
